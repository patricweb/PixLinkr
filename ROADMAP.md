# Роудмап проекта «PixLinkr»

## Общая цель
Создать сервис для группового сбора медиа (фото, видео) с обязательной регистрацией через Telegram или email, где каждый пользователь видит свои альбомы («Мои альбомы») и приглашения («Куда пригласили»). Сервис включает веб-версию, Telegram-бота, а в будущем — мобильное и десктопное приложения. Роудмап разбит на три этапа: 1) Веб + Telegram-бот, 2) Мобильное приложение, 3) Десктопное приложение.

## Этап 1: Веб-версия + Telegram-бот (MVP)
**Цель**: Запустить базовый сервис, где пользователи регистрируются (Telegram/email), создают альбомы, приглашают других, загружают медиа и видят свои альбомы/приглашения. Это ядро проекта, которое решает проблему хаоса медиа в чатах.

**Срок**: 2–3 месяца (с учётом разработки, тестирования и запуска).

**Задачи**:

### Backend
- Настроить (БД, аутентификация, хранение файлов).
- Реализовать API:
  - Регистрация/вход: `/api/register/email`, `/api/login/email`, `/api/login/telegram`.
  - Создание альбома: `/api/albums` (генерация `slug`, привязка к `user_id`).
  - Приглашение: `/api/albums/:slug/invite` (добавление в `album_invites`).
  - Загрузка медиа: `/api/albums/:slug/upload`.
  - Получение альбомов: `/api/my-albums` (свои + приглашённые).
- Настроить WebSockets (Socket.io) для реал-тайм обновлений.
- Реализовать безопасность: JWT-токены, bcrypt для паролей, rate limiting.
- Настроить хранение медиа: Supabase Storage/S3, сжатие (Sharp.js).

### Frontend
- Создать веб-версию (`pixlinkr.app`):
  - Экран входа: Кнопки «Войти через Telegram», «Войти/Зарегистрироваться через Email».
  - Дашборд: Вкладки «Мои альбомы» (созданные) и «Куда пригласили» (приглашённые).
  - Экран альбома: Лента медиа (сетка), кнопки «Добавить», «Поделиться» (ссылка/QR).
  - Настройки: Управление аккаунтом, модерация альбомов.
- Поддержка PWA для мобильных устройств.
- Интеграция WebSockets для реал-тайм.

### Telegram-бот (@InstantAlbumBot)
- Команды:
  - `/start`: Приветствие, авторизация.
  - `/create <название>`: Создание альбома.
  - `/myalbums`: Список созданных альбомов.
  - `/invited`: Список приглашённых альбомов.
  - Загрузка медиа: Отправка фото/видео → запрос `slug` → добавление.
- Интеграция с Telegram Login Widget для авторизации.
- Уведомления: О новых медиа, приглашениях, истечении альбома.

### База данных (Примерная, схема)
- Схема:
  ```sql
  CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    telegram_id BIGINT UNIQUE,
    email VARCHAR(255) UNIQUE,
    password_hash VARCHAR(255),
    created_at TIMESTAMP DEFAULT NOW()
  );

  CREATE TABLE albums (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    slug VARCHAR(255) UNIQUE NOT NULL,
    title VARCHAR(255),
    user_id UUID REFERENCES users(id),
    created_at TIMESTAMP DEFAULT NOW(),
    expires_at TIMESTAMP,
    is_moderated BOOLEAN DEFAULT FALSE
  );

  CREATE TABLE album_invites (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    album_id UUID REFERENCES albums(id),
    user_id UUID REFERENCES users(id),
    invited_at TIMESTAMP DEFAULT NOW()
  );

  CREATE TABLE media (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    album_id UUID REFERENCES albums(id),
    file_url VARCHAR(255) NOT NULL,
    uploaded_at TIMESTAMP DEFAULT NOW(),
    author_id UUID REFERENCES users(id),
    is_approved BOOLEAN DEFAULT TRUE
  );
  ```
- Индексы для производительности (на `user_id`, `album_id`, `slug`).

### Тестирование
- Unit-тесты для API (Jest).
- E2E-тесты для фронтенда (Cypress).
- Тестирование бота: Команды, загрузка медиа, уведомления.
- Нагрузочное тестирование: 100 пользователей, 1000 медиа/альбом.

### Запуск
- Деплой: Vercel (фронтенд), AWS/GCP (backend), Supabase (БД/хранение).
- Тестирование на друзьях/коллегах (50–100 пользователей).
- Маркетинг: SEO («общий альбом фото»), TikTok-видео («Собери фото с вечеринки за 30 сек»), Telegram-каналы.


**Результат**:
- Рабочая веб-версия и Telegram-бот.
- Пользователи регистрируются (Telegram/email), создают альбомы, приглашают других, загружают медиа.
- Вкладки «Мои альбомы» и «Куда пригласили» доступны на сайте и через бот.
- Проблема «потерять альбом» решена: альбомы привязаны к аккаунту.

**Метрики успеха**:
- 100 активных пользователей за первый месяц.
- 50 созданных альбомов.
- Retention: 30% пользователей возвращаются через неделю.

## Этап 2: Мобильное приложение
**Цель**: Добавить нативное мобильное приложение (iOS/Android) для удобной загрузки медиа с телефона, сканирования QR-кодов и получения push-уведомлений. Это усилит сценарии на мероприятиях (пикники, праздники) и повысит вовлечённость.

**Срок**: 3–4 месяца (после веб-версии, с учётом переиспользования кода).

**Задачи**:

### Разработка (React Native)
- Переиспользовать React-код веб-версии для UI (дашборд, лента альбомов).
- Экран входа: Telegram OAuth (WebView для Login Widget), email/пароль.
- Дашборд: Вкладки «Мои альбомы» и «Куда пригласили» (сетка с миниатюрами).
- Экран альбома: Лента медиа, кнопки «Добавить», «Поделиться» (ссылка/QR).
- Загрузка медиа: React Native Image Picker (камера/галерея).
- QR-сканирование: React Native QR Scanner.
- Push-уведомления: Firebase Cloud Messaging (FCM).
- Оффлайн-режим: AsyncStorage для кэширования, очередь загрузки.

### Интеграция с backend
- Использовать существующие API (`/api/my-albums`, `/api/albums/:slug/upload`, etc.).
- WebSockets для реал-тайм обновлений.
- Синхронизация данных: альбомы, приглашения, медиа.

### Тестирование
- Unit-тесты для компонентов (Jest).
- E2E-тесты (Detox для React Native).
- Тестирование на устройствах: iOS (iPhone 12+), Android (Samsung Galaxy S20+).
- Нагрузка: 100 одновременных пользователей, 500 медиа/альбом.

### Публикация
- Деплой в App Store (iOS) и Google Play (Android).
- Маркетинг: ASO (оптимизация «общий альбом», «групповое фото»), продвижение в Telegram-каналах, TikTok-видео.
- Тестирование на 100–200 пользователях (из веб-версии).

**Технологии**:
- React Native, React Navigation.
- Firebase FCM (уведомления).
- React Native Image Picker, QR Scanner.
- AsyncStorage (оффлайн).
- Supabase SDK для API.

**Результат**:
- Мобильное приложение, дублирующее веб-функционал.
- Удобная загрузка с камеры/галереи, QR-сканирование, push-уведомления.
- Проблема «потерять альбом» решена: альбомы и приглашения всегда в приложении.

**Метрики успеха**:
- 500 установок за первый месяц.
- 50% пользователей с веба переходят на приложение.
- Retention: 40% возвращаются через неделю.

## Этап 3: Десктопное приложение
**Цель**: Создать десктопное приложение (Windows/macOS/Linux) для профессиональных сценариев (работа, обучение) и пользователей, предпочитающих ПК. Оно упростит загрузку больших файлов (видео, RAW-фото) и работу с папками.

**Срок**: 3–4 месяца (после мобильного приложения, с учётом спроса).

**Задачи**:

### Разработка (Electron)
- Переиспользовать код веб-версии для UI.
- Экран входа: Telegram OAuth (WebView), email/пароль.
- Дашборд: Вкладки «Мои альбомы» и «Куда пригласили».
- Экран альбома: Лента медиа, drag-and-drop для загрузки.
- Интеграция с ОС: Electron API для выбора файлов/папок.
- Уведомления: Системные уведомления (Windows/macOS).
- Локальное кэширование: Electron Store для альбомов/медиа.

### Интеграция с backend
- Использовать те же API и WebSockets.
- Поддержка больших файлов (до 1 ГБ) через чанки (multipart upload).

### Тестирование
- Unit-тесты (Jest).
- E2E-тесты (Spectron для Electron).
- Тестирование на платформах: Windows 10+, macOS Ventura+, Ubuntu 20.04+.
- Нагрузка: 50 одновременных пользователей, 100 больших файлов.

### Публикация
- Деплой: GitHub Releases или магазины (Microsoft Store, Mac App Store).
- Маркетинг: Продвижение среди профессионалов (фрилансеры, преподаватели), упор на SEO («десктопное приложение для фотоальбомов»).
- Тестирование на 50–100 пользователях (из веб/мобильной версии).

**Технологии**:
- Electron
- Electron Store (кэширование).
- Electron API (drag-and-drop, уведомления).
- Supabase SDK.

**Результат**:
- Десктопное приложение для загрузки больших файлов и профессионального использования.
- Полная синхронизация с вебом/мобильным приложением.
- Проблема «потерять альбом» решена: альбомы и приглашения в дашборде.

**Метрики успеха**:
- 200 установок за первый месяц.
- 20% пользователей с веба/мобильного переходят на десктоп.
- Retention: 30% возвращаются через неделю.

## Общий таймлайн
- **Месяц 0–3**: Веб-версия + Telegram-бот (MVP).
- **Месяц 4–6**: Мобильное приложение (iOS/Android).
- **Месяц 7–9**: Десктопное приложение (Windows/macOS/Linux).
- **Итого**: 12 месяцев до полной реализации (с учётом тестирования и доработок).

## Приоритеты и логика
- **Почему веб + бот сначала**:
  - Минимальный порог входа: не требует установки, работает в браузере/Telegram.
  - Быстрый запуск: 3–4 месяца на MVP.
  - Охват: Telegram — основной канал для ЦА (друзья, семьи), веб — универсален.
- **Почему мобильное приложение вторым**:
  - 80% пользователей на смартфонах (пикники, праздники).
  - Push-уведомления и QR-сканирование усиливают сценарии.
  - React Native экономит время (переиспользование веб-кода).
- **Почему десктопное третьим**:
  - Ниша: профессионалы (видео, большие файлы), старшее поколение.
  - Зависит от спроса: если бизнес-пользователи или преподаватели активно используют веб/мобильное приложение.
  - Electron позволяет быстро адаптировать веб-код.

## Безопасность и масштабирование
### Безопасность (на всех этапах)
- Telegram: Проверка `auth_data`.
- Email: bcrypt для паролей, подтверждение email.
- Альбомы: Уникальные `slug` (nanoid), опциональные пароли.
- Анти-спам: Rate limiting, CAPTCHA.
- GDPR: Возможность удалить аккаунт/альбом.

### Масштабирование
- Supabase/AWS для авто-масштабирования.
- Redis для кэширования запросов.
- CDN (Cloudflare) для быстрой загрузки медиа.

## Маркетинг
- **Этап 1 (веб + бот)**: TikTok-видео («Собери фото за 30 сек»), SEO («общий альбом»), Telegram-каналы.
- **Этап 2 (мобильное)**: ASO в App Store/Google Play, продвижение через веб-пользователей.
- **Этап 3 (десктопное)**: SEO для профессионалов, рассылка текущим пользователям.

## Итоговая ценность
Роудмап обеспечивает постепенное развитие: от веб-версии и Telegram-бота (быстрый запуск, широкая аудитория) до мобильного приложения (удобство, вовлечённость) и десктопного (профессионалы). Обязательная регистрация через Telegram/email делает альбомы доступными в любой момент через вкладки «Мои альбомы» и «Куда пригласили», решая проблему потери доступа. Проект решает хаос медиа в чатах, как Google Docs для текстов, но для фото/видео. В резюме: "Создал сервис для группового сбора медиа с регистрацией через Telegram/email, веб-версией, ботом и планами на приложения".
